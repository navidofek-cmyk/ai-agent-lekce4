# Dockerfile s podporou OpenAI (volitelně)
FROM python:3.11-slim

WORKDIR /app

# Zkopírujeme rozšířenou verzi agenta
COPY python_agent_extended.py .

# Instalace OpenAI knihovny (volitelná)
RUN pip install --no-cache-dir openai || echo "OpenAI neinstalováno - simulator režim funguje bez něj"

# Vytvoříme adresář pro databázi
RUN mkdir -p /app/data

ENV PYTHONUNBUFFERED=1
ENV LLM_MODE=simulator

EXPOSE 8000

CMD ["python", "python_agent_extended.py"]
